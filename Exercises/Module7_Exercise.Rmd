---
title: 'Module 7 exercises'
output: html_notebook
---

```{r}
library(ggplot2) #load ggplot
library(ggthemes) #load themes package for ggplot
theme_set(theme_tufte()) # a theme I like.

#set some options that I like
theme_update(plot.title = element_text(hjust = 0.5), 
             axis.line.x = element_line(color="black", size = 1),
             axis.line.y = element_line(color="black", size = 1),
             text=element_text(size=20),
             axis.text=element_text(size=15)) #center all titles and and axis lines
```

---------------
# Exercise 7A #
---------------

## Fit a count model

Below is the code I used to generate the simualated pheasant data from class. Run it and then fit a poisson glm to the results. Do you get a similar result from lecture? Run a couple of times to see how much variability there is in your regression estimates.

```{r}
x<-seq(0,100,1) 
mus<-exp(0.01+0.03*x) # mean at each x
y<-rpois(length(x), lambda= mus) # 1 observation from a poisson per x value

#code here
```



---------------
# Exercise 7B #
---------------

## Negative binomial regression

Repeat the analysis in 7A but use a negative binomial model. Use AICc to determine which fit is better. Do the parameter estimates or confidence intervals (from `confint`) differ much between the results in 7A and 7B?

```{r}
library(MASS)
#code here
```


---------------
# Exercise 7C #
---------------

## Modeling categorical data

Let's look at the silversword data from the lecture. 

1. Load the dataset `Silversword.csv`. Bonus points if you can figure out how to plot the data.
2. Build a survival model using the predictor `Precip` (instead of the `Elev` predictor we used in class). 
3. Based on this model is survival related to `Precip`? If so, does it increase or decrease with `Precip`?

```{r}
#code here
```


---------------
# Exercise 7D #
---------------

## Fit an overdispersed categorical model

1. Use the `VGAM` package to fit the model you used above to fit the same mean function as in 7C but using a betabinomial model. 
2. Compare the AICc values between the two model and compare their parameter estimates (you can use the command `coef(mod.name)` ), are there differences in the estimates? 

```{r}
library(VGAM)
#code here
```



